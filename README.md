# VK API, лайки и sqlite.

__Уровень 1__:
Написать программу, получающую самый залайканный пост на стене пользователя вконтакте через vk api.  
__Уровень 2__:
Написать программу, скачивающую все посты на стене пользователя и кладущую их в базу данных sqlite3.  
__Уровень 3__:
Написать программу, скачивающую все посты на стене пользователя и кладущую их в одну из баз данных:
* MongoDB
* PostgreSQL
* Oracle

------

### Уровень 1

1\. [Зарегистрируйте](https://vk.com/editapp?act=create) новое приложение VK типа standalone.
Поместите его `ID` и `secret_key` (каждый на отдельной строке) в файл `api.key`.
`secret_key` нельзя хранить и передавать открыто. Файл api.key должен быть в `.gitignore`!

2\. Авторизуйте своё приложение
```python
session = vk.AuthSession(app_id=app_id, scope="offline,wall")
api = vk.API(session)
```

3\. Получите из ссылки пользователя его `id` или `domain`, необходимые, чтобы найти его.
[Документация](https://vk.com/dev/fields) по объекту пользователя поможет вам решить, что вам нужно (читайте: проще получить и использовать): id или domain.
```python
user_id = ""	
user_domain = ""
```

4\. Получите объект пользователя используя метод [`users.get`](https://vk.com/dev/users.get).
Здесь необходимо обратиться к api. Для этого мы используем обертку vk.
Парочку примернов использования можно найти [здесь](https://pypi.python.org/pypi/vk/2.0.2) 
(Внизу есть ссылка "Read full documentation", она там не просто так).
Обертка `vk api` позволяет запрашивать методы `api`, например, так:
```python
api.users.get(<params>)
```
Самое важное - знать какие и в какой форме подать параметры - это вы найдете в документации `api`.

```python
user = ''
```

5\. Получите записи со стены пользователя, используя [`wall.get`](https://vk.com/dev/wall.get).
Убедитесь, что получаете только записи пользователя `user`.
```python
wall_posts = []
```

6\. Отсортируйте список записей по количеству лайков. [Может помочь](https://vk.com/dev/datatypes). 
Найдите самый залайканный пост и выведите прямую ссылку на него.
```python
most_liked = None
most_liked_url = None
```

### Уровень 2
![](http://imgs.xkcd.com/comics/exploits_of_a_mom.png)

1. Подключите модуль `sqlite3`
2. Создайте локальную базу данных
3. Создайте таблицу posts, содержащую все поля записи на стене вк
4. Вставьте в таблицу все посты из `wall_posts`
5. Не забудьте сделать `connection.commit()`!
6. Для душевного успокоения скачайте любой gui для sqlite (например, [SQlite Browser](http://sqlitebrowser.org/)), откройте с его помощью свою базу данных и тихо радуйтесь, глядя на скачанные записи.

### Уровень 3
1. Скачайте, установите и настройте базу данных по выбору
2. Скачайте модуль для работы с ней через python
3. Проделайте шаги Уровня 2 для новой базы данных.
